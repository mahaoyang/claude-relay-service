# UI 改造任务清单

本文档提供了所有改造任务的详细清单，可用于进度跟踪和任务管理。

---

## 🎯 第一阶段：基础组件替换

### 任务 1.1: StatCard 组件改造 ⭐

- **文件**: `src/components/common/StatCard.vue`
- **预计工时**: 1-2小时
- **优先级**: 🔥 高
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 1.1.1 创建新的 StatCard 组件（基于 Card.vue）
- [ ] 1.1.2 保留现有的 prop 接口（title, value, subtitle, icon, iconColor）
- [ ] 1.1.3 实现玻璃态效果和渐变背景
- [ ] 1.1.4 实现 hover 动画效果
- [ ] 1.1.5 实现响应式断点（sm/md/lg）
- [ ] 1.1.6 测试明亮/暗黑模式
- [ ] 1.1.7 更新 DashboardView.vue 使用新组件

#### 验收标准

- ✅ 视觉效果与原版一致
- ✅ 明亮和暗黑模式完美
- ✅ 响应式布局正常
- ✅ Hover 动画流畅

---

### 任务 1.2: Button 组件全局替换 ⭐

- **影响范围**: 全局（50+处）
- **预计工时**: 3-4小时
- **优先级**: 🔥 高
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 1.2.1 全局搜索 `.btn`、`.btn-primary`、`.btn-success`、`.btn-danger`
- [ ] 1.2.2 创建替换脚本或模式
- [ ] 1.2.3 替换 DashboardView.vue 中的按钮
- [ ] 1.2.4 替换 ApiKeysView.vue 中的按钮
- [ ] 1.2.5 替换 AccountsView.vue 中的按钮
- [ ] 1.2.6 替换 SettingsView.vue 中的按钮
- [ ] 1.2.7 替换其他视图中的按钮
- [ ] 1.2.8 替换所有模态框中的按钮
- [ ] 1.2.9 测试所有variant（primary/secondary/danger/ghost/outline）
- [ ] 1.2.10 测试loading状态
- [ ] 1.2.11 测试图标按钮
- [ ] 1.2.12 测试尺寸（sm/md/lg）

#### 验收标准

- ✅ 所有 `.btn` 类按钮已替换
- ✅ 所有variant样式正确
- ✅ Loading状态正常
- ✅ 图标显示正确
- ✅ 无控制台错误

---

### 任务 1.3: Badge 组件应用 ⭐

- **影响范围**: API Keys、Accounts、Dashboard
- **预计工时**: 1-2小时
- **优先级**: 🔶 中
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 1.3.1 识别所有内联badge样式
- [ ] 1.3.2 替换 API Keys 页面的状态标签
- [ ] 1.3.3 替换 Accounts 页面的平台标识
- [ ] 1.3.4 替换 Dashboard 的统计标签
- [ ] 1.3.5 测试所有variant（success/warning/error/info/neutral）
- [ ] 1.3.6 测试size（sm/md/lg）
- [ ] 1.3.7 测试closable功能（如适用）

#### 验收标准

- ✅ 所有badge统一使用 Badge.vue
- ✅ 颜色和尺寸正确
- ✅ 暗黑模式正常

---

### 任务 1.4: Alert 组件应用 ⭐

- **影响范围**: 全局错误/成功提示
- **预计工时**: 1小时
- **优先级**: 🔷 低
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 1.4.1 识别所有错误提示区域
- [ ] 1.4.2 替换为 Alert.vue
- [ ] 1.4.3 测试4种variant（success/warning/error/info）
- [ ] 1.4.4 测试closable功能
- [ ] 1.4.5 测试bordered样式

#### 验收标准

- ✅ 提示信息显示清晰
- ✅ 可关闭功能正常
- ✅ 动画流畅

---

## 🎯 第二阶段：表单组件替换

### 任务 2.1: Input 组件替换 ⭐

- **影响范围**: 所有表单
- **预计工时**: 3-4小时
- **优先级**: 🔥 高
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 2.1.1 全局搜索 `.form-input` 类
- [ ] 2.1.2 替换账户创建表单的输入框
- [ ] 2.1.3 替换账户编辑表单的输入框
- [ ] 2.1.4 替换 API Key 创建表单的输入框
- [ ] 2.1.5 替换 API Key 编辑表单的输入框
- [ ] 2.1.6 替换设置页面的输入框
- [ ] 2.1.7 替换搜索框（特殊处理，保留图标）
- [ ] 2.1.8 测试 v-model 绑定
- [ ] 2.1.9 测试验证错误显示
- [ ] 2.1.10 测试clearable功能
- [ ] 2.1.11 测试prefixIcon和suffixIcon
- [ ] 2.1.12 测试readonly和disabled状态

#### 验收标准

- ✅ 所有 `.form-input` 已替换
- ✅ v-model 双向绑定正常
- ✅ 验证提示显示正确
- ✅ 暗黑模式样式正确

---

### 任务 2.2: Textarea 组件替换 ⭐

- **影响范围**: 多行文本输入
- **预计工时**: 1小时
- **优先级**: 🔶 中
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 2.2.1 搜索所有 `<textarea>` 元素
- [ ] 2.2.2 替换为 Textarea.vue
- [ ] 2.2.3 测试字符计数（showCount）
- [ ] 2.2.4 测试resize选项
- [ ] 2.2.5 测试maxLength限制

#### 验收标准

- ✅ 所有textarea已替换
- ✅ 字符计数正确
- ✅ 调整大小行为正常

---

### 任务 2.3: Select 组件替换（替换 CustomDropdown）⭐

- **影响范围**: API Keys、Accounts筛选器
- **预计工时**: 3-4小时
- **优先级**: 🔥 高
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 2.3.1 分析 CustomDropdown.vue 的所有使用场景
- [ ] 2.3.2 替换 API Keys 的时间范围筛选器
- [ ] 2.3.3 替换 API Keys 的标签筛选器
- [ ] 2.3.4 替换 API Keys 的搜索模式选择器
- [ ] 2.3.5 替换 Accounts 的排序选择器
- [ ] 2.3.6 替换 Accounts 的平台筛选器
- [ ] 2.3.7 替换 Accounts 的分组筛选器
- [ ] 2.3.8 测试选中状态显示
- [ ] 2.3.9 测试图标显示
- [ ] 2.3.10 测试下拉菜单定位
- [ ] 2.3.11 保留渐变悬停效果

#### 验收标准

- ✅ 所有 CustomDropdown 已替换
- ✅ 下拉菜单交互流畅
- ✅ 选中状态清晰
- ✅ 视觉效果与原版一致

---

### 任务 2.4: Switch 组件替换 ⭐

- **影响范围**: 设置页面、表单开关
- **预计工时**: 1-2小时
- **优先级**: 🔶 中
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 2.4.1 搜索所有开关元素
- [ ] 2.4.2 替换设置页面的开关
- [ ] 2.4.3 替换表单中的开关
- [ ] 2.4.4 测试三种尺寸（sm/md/lg）
- [ ] 2.4.5 测试disabled状态

#### 验收标准

- ✅ 所有开关已替换
- ✅ 切换动画流畅
- ✅ 暗黑模式正常

---

### 任务 2.5: Checkbox 和 RadioGroup 替换 ⭐

- **影响范围**: 批量选择、表单选项
- **预计工时**: 1-2小时
- **优先级**: 🔶 中
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 2.5.1 替换批量选择复选框（Accounts、API Keys）
- [ ] 2.5.2 替换表单中的单选按钮组
- [ ] 2.5.3 测试数组绑定（多选）
- [ ] 2.5.4 测试布尔绑定（单选）
- [ ] 2.5.5 测试description显示

#### 验收标准

- ✅ 批量选择功能正常
- ✅ 单选/多选绑定正确
- ✅ 视觉样式统一

---

## 🎯 第三阶段：复杂组件替换

### 任务 3.1: Dialog 统一（替换旧版 ConfirmDialog）⭐

- **影响范围**: 所有模态框
- **预计工时**: 5-6小时
- **优先级**: 🔥 高
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 3.1.1 分析 common/ConfirmDialog.vue 的使用
- [ ] 3.1.2 决策：保留旧版还是完全替换
- [ ] 3.1.3 如果保留：创建兼容层
- [ ] 3.1.4 如果替换：逐个替换所有使用处
- [ ] 3.1.5 替换账户创建模态框
- [ ] 3.1.6 替换账户编辑模态框
- [ ] 3.1.7 替换 API Key 创建模态框
- [ ] 3.1.8 替换 API Key 编辑模态框
- [ ] 3.1.9 替换所有删除确认对话框
- [ ] 3.1.10 测试5种variant（warning/danger/info/success/default）
- [ ] 3.1.11 测试loading状态
- [ ] 3.1.12 测试动画效果
- [ ] 3.1.13 测试ESC关闭
- [ ] 3.1.14 测试点击背景关闭
- [ ] 3.1.15 测试滚动内容

#### 验收标准

- ✅ 所有模态框统一使用新组件
- ✅ 动画流畅无卡顿
- ✅ 响应式适配完美
- ✅ 无功能回归

---

### 任务 3.2: Tabs 导航改造 ⭐

- **影响范围**: API Keys 页面、其他Tab导航
- **预计工时**: 3-4小时
- **优先级**: 🔶 中
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 3.2.1 识别所有Tab导航实现
- [ ] 3.2.2 替换 API Keys 的活跃/已删除 tabs
- [ ] 3.2.3 替换其他页面的tab导航（如有）
- [ ] 3.2.4 保留渐变和动画效果
- [ ] 3.2.5 测试tab切换
- [ ] 3.2.6 测试panel卸载（unmount）
- [ ] 3.2.7 测试图标和badge显示

#### 验收标准

- ✅ Tab切换流畅
- ✅ 动画效果保留
- ✅ 视觉效果一致

---

### 任务 3.3: Menu 下拉菜单应用 ⭐

- **影响范围**: 操作菜单
- **预计工时**: 2-3小时
- **优先级**: 🔷 低
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 3.3.1 识别需要下拉菜单的场景
- [ ] 3.3.2 实现表格行操作菜单
- [ ] 3.3.3 实现批量操作菜单
- [ ] 3.3.4 测试键盘导航
- [ ] 3.3.5 测试菜单定位

#### 验收标准

- ✅ 菜单定位正确
- ✅ 键盘导航流畅
- ✅ 视觉样式统一

---

### 任务 3.4: Popover 组件应用 ⭐

- **影响范围**: Tooltip替代、信息提示
- **预计工时**: 1-2小时
- **优先级**: 🔷 低
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 3.4.1 识别需要Popover的场景
- [ ] 3.4.2 部分替换 el-tooltip（可选）
- [ ] 3.4.3 实现信息提示气泡
- [ ] 3.4.4 测试4个位置（top/bottom/left/right）

#### 验收标准

- ✅ Popover定位准确
- ✅ 箭头显示正确
- ✅ 动画流畅

---

## 🎯 第四阶段：页面级重构

### 任务 4.1: DashboardView.vue 重构 ⭐

- **文件**: `src/views/DashboardView.vue`
- **预计工时**: 6-8小时
- **优先级**: 🔥 高
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 4.1.1 使用新 StatCard 替换所有统计卡片（4个）
- [ ] 4.1.2 替换所有 Badge
- [ ] 4.1.3 替换所有 Button
- [ ] 4.1.4 优化响应式网格布局
- [ ] 4.1.5 优化Token统计区域
- [ ] 4.1.6 优化性能指标区域
- [ ] 4.1.7 优化图表区域（如有）
- [ ] 4.1.8 测试所有统计数据显示
- [ ] 4.1.9 测试响应式布局（3种尺寸）
- [ ] 4.1.10 测试暗黑模式
- [ ] 4.1.11 性能测试（加载时间）

#### 验收标准

- ✅ 视觉效果与原版一致或更好
- ✅ 所有数据正确显示
- ✅ 响应式完美
- ✅ 性能无降低

---

### 任务 4.2: ApiKeysView.vue 重构 ⭐

- **文件**: `src/views/ApiKeysView.vue`
- **预计工时**: 8-10小时
- **优先级**: 🔥 高
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 4.2.1 替换Card容器
- [ ] 4.2.2 替换Tab导航为 Tabs.vue
- [ ] 4.2.3 替换所有筛选器为 Select.vue
- [ ] 4.2.4 替换搜索框为 Input.vue
- [ ] 4.2.5 替换所有按钮为 Button.vue
- [ ] 4.2.6 替换状态Badge
- [ ] 4.2.7 替换所有模态框为 Dialog.vue
- [ ] 4.2.8 保留 el-date-picker（暂时）
- [ ] 4.2.9 测试筛选功能
- [ ] 4.2.10 测试搜索功能
- [ ] 4.2.11 测试分页功能
- [ ] 4.2.12 测试批量操作
- [ ] 4.2.13 测试表格交互
- [ ] 4.2.14 测试所有模态框（创建/编辑/删除/详情）
- [ ] 4.2.15 测试响应式布局
- [ ] 4.2.16 测试暗黑模式
- [ ] 4.2.17 性能测试（大数据量）

#### 验收标准

- ✅ 所有功能正常
- ✅ 无控制台错误
- ✅ 响应式完美
- ✅ 性能良好

---

### 任务 4.3: AccountsView.vue 重构 ⭐

- **文件**: `src/views/AccountsView.vue`
- **预计工时**: 8-10小时
- **优先级**: 🔥 高
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 4.3.1 替换Card容器
- [ ] 4.3.2 替换所有筛选器为 Select.vue
- [ ] 4.3.3 替换搜索框为 Input.vue
- [ ] 4.3.4 替换所有按钮为 Button.vue
- [ ] 4.3.5 替换平台Badge
- [ ] 4.3.6 替换所有模态框为 Dialog.vue
- [ ] 4.3.7 测试排序功能
- [ ] 4.3.8 测试平台筛选
- [ ] 4.3.9 测试分组筛选
- [ ] 4.3.10 测试搜索功能
- [ ] 4.3.11 测试批量选择和删除
- [ ] 4.3.12 测试账户创建
- [ ] 4.3.13 测试账户编辑
- [ ] 4.3.14 测试账户删除
- [ ] 4.3.15 测试响应式布局
- [ ] 4.3.16 测试暗黑模式

#### 验收标准

- ✅ 所有功能正常
- ✅ 多平台显示统一
- ✅ 响应式完美
- ✅ 性能良好

---

### 任务 4.4: SettingsView.vue 重构 ⭐

- **文件**: `src/views/SettingsView.vue`
- **预计工时**: 4-6小时
- **优先级**: 🔶 中
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 4.4.1 替换所有 Input
- [ ] 4.4.2 替换所有 Textarea
- [ ] 4.4.3 替换所有 Switch
- [ ] 4.4.4 替换所有 Select
- [ ] 4.4.5 替换所有 Button
- [ ] 4.4.6 测试表单提交
- [ ] 4.4.7 测试表单验证
- [ ] 4.4.8 测试配置保存

#### 验收标准

- ✅ 表单功能正常
- ✅ 验证提示清晰
- ✅ 配置保存成功

---

### 任务 4.5: TutorialView.vue 重构 ⭐

- **文件**: `src/views/TutorialView.vue`
- **预计工时**: 2-3小时
- **优先级**: 🔷 低
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 4.5.1 替换Card组件
- [ ] 4.5.2 替换Alert提示
- [ ] 4.5.3 优化代码示例展示

#### 验收标准

- ✅ 内容显示清晰
- ✅ 代码高亮正常

---

### 任务 4.6: 其他视图重构 ⭐

- **影响范围**: 剩余5个视图
- **预计工时**: 6-8小时
- **优先级**: 🔶 中
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 4.6.1 LoginView.vue 重构
- [ ] 4.6.2 UserLoginView.vue 重构
- [ ] 4.6.3 UserDashboardView.vue 重构
- [ ] 4.6.4 ApiStatsView.vue 重构
- [ ] 4.6.5 UserManagementView.vue 重构

---

## 🎯 第五阶段：清理和优化

### 任务 5.1: 清理旧组件和样式 ⭐

- **预计工时**: 2-3小时
- **优先级**: 🔷 低
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 5.1.1 评估是否可以删除 CustomDropdown.vue
- [ ] 5.1.2 评估是否可以删除 common/ConfirmDialog.vue
- [ ] 5.1.3 清理 components.css 中未使用的CSS类
- [ ] 5.1.4 清理 global.css 中冗余样式
- [ ] 5.1.5 删除未使用的CSS变量
- [ ] 5.1.6 整理import语句

#### 验收标准

- ✅ 无未使用的组件
- ✅ 无未使用的样式
- ✅ 代码整洁

---

### 任务 5.2: 性能优化 ⭐

- **预计工时**: 3-4小时
- **优先级**: 🔶 中
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 5.2.1 实现组件懒加载
- [ ] 5.2.2 优化大列表渲染（虚拟滚动）
- [ ] 5.2.3 减少不必要的watchers
- [ ] 5.2.4 优化图片和资源加载
- [ ] 5.2.5 代码分割优化
- [ ] 5.2.6 使用 computed 替代方法调用
- [ ] 5.2.7 性能测试和基准对比

#### 验收标准

- ✅ 首屏加载时间 < 2秒
- ✅ 页面切换流畅
- ✅ 无性能警告

---

### 任务 5.3: 文档更新 ⭐

- **预计工时**: 2-3小时
- **优先级**: 🔶 中
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 5.3.1 更新 COMPONENTS_GUIDE.md
- [ ] 5.3.2 创建迁移完成说明
- [ ] 5.3.3 更新组件使用示例
- [ ] 5.3.4 创建开发者指南
- [ ] 5.3.5 更新README（如需要）

#### 验收标准

- ✅ 文档完整准确
- ✅ 示例代码可运行
- ✅ 新开发者可快速上手

---

### 任务 5.4: 代码格式化和检查 ⭐

- **预计工时**: 1小时
- **优先级**: 🔷 低
- **状态**: ⏳ 待开始

#### 子任务

- [ ] 5.4.1 运行 Prettier 格式化所有代码
- [ ] 5.4.2 运行 ESLint 检查
- [ ] 5.4.3 修复所有 lint 错误
- [ ] 5.4.4 修复所有 lint 警告（可选）

#### 验收标准

- ✅ 无lint错误
- ✅ 代码风格统一

---

## 📊 进度跟踪

### 阶段完成度

| 阶段     | 任务数 | 已完成 | 进行中 | 未开始 | 完成率 |
| -------- | ------ | ------ | ------ | ------ | ------ |
| 第一阶段 | 4      | 0      | 0      | 4      | 0%     |
| 第二阶段 | 5      | 0      | 0      | 5      | 0%     |
| 第三阶段 | 4      | 0      | 0      | 4      | 0%     |
| 第四阶段 | 6      | 0      | 0      | 6      | 0%     |
| 第五阶段 | 4      | 0      | 0      | 4      | 0%     |
| **总计** | **23** | **0**  | **0**  | **23** | **0%** |

---

## 🏆 里程碑

- [ ] **里程碑 1**: 完成第一阶段（基础组件）
- [ ] **里程碑 2**: 完成第二阶段（表单组件）
- [ ] **里程碑 3**: 完成第三阶段（复杂组件）
- [ ] **里程碑 4**: 完成 DashboardView 重构
- [ ] **里程碑 5**: 完成 ApiKeysView 重构
- [ ] **里程碑 6**: 完成 AccountsView 重构
- [ ] **里程碑 7**: 完成所有页面重构
- [ ] **里程碑 8**: 完成清理和优化
- [ ] **里程碑 9**: 项目完成 🎉

---

**最后更新**: 2025-01-21
**当前进度**: 0/23 任务完成
